package views;

import javax.swing.JTextField;
import java.awt.event.ActionEvent;
import java.awt.event.ActionListener;
import java.awt.Color;
import java.awt.Font;
import javax.swing.BorderFactory;
import javax.swing.JButton;
import javax.swing.JCheckBox;
import javax.swing.JFrame;
import javax.swing.JLabel;
import javax.swing.JOptionPane;
import javax.swing.JPanel;
import javax.swing.JPasswordField;
import javax.swing.border.LineBorder;

public class AuthView {

    public AuthView() {
        // TODO Auto-generated constructor stub
    }

    public void login() {

        JFrame ventana = new JFrame();
        ventana.setVisible(true);
        ventana.setSize(930, 600);
        ventana.setLocationRelativeTo(null); 
        ventana.setTitle("Login"); 
        ventana.setDefaultCloseOperation(JFrame.EXIT_ON_CLOSE); 
        ventana.setResizable(true);

        // Crear el panel con fondo claro
        JPanel panel1 = new JPanel();
        panel1.setLayout(null);  // Aquí puedes usar otros layout como GridLayout si lo prefieres
        ventana.add(panel1);

        // Fondo claro (agregar el fondo primero para que no tape otros componentes)
        JLabel fondo = new JLabel();
        fondo.setBackground(Color.decode("#e0e0e0"));  // Fondo claro para toda la ventana
        fondo.setOpaque(true);
        fondo.setSize(930, 600);
        fondo.setLocation(0, 0);
        panel1.add(fondo);

        panel1.setOpaque(true);
        panel1.setSize(500, 700);
        panel1.setLocation(500, 0);
        panel1.setLayout(null);
        panel1.setBackground(Color.decode("#f0f0f0"));  // Fondo claro para el panel

        // Etiquetas
        JLabel etiqueta1 = new JLabel("Nombre de usuario:");
        etiqueta1.setSize(150, 30);
        etiqueta1.setLocation(170, 80);
        etiqueta1.setForeground(Color.BLACK);  // Texto en negro
        etiqueta1.setFont(new Font("Georgia", Font.BOLD, 14));
        panel1.add(etiqueta1);

        JLabel etiqueta2 = new JLabel("Contraseña:");
        etiqueta2.setSize(150, 30);
        etiqueta2.setLocation(170, 160);
        etiqueta2.setForeground(Color.BLACK);  // Texto en negro
        etiqueta2.setFont(new Font("Georgia", Font.BOLD, 14));
        panel1.add(etiqueta2);

        JLabel etiqueta4 = new JLabel("¿Olvido su contraseña?");
        etiqueta4.setSize(150, 30);
        etiqueta4.setLocation(290, 220);
        etiqueta4.setForeground(Color.BLACK);  // Texto en negro
        panel1.add(etiqueta4);

        JCheckBox caja = new JCheckBox("Recordarme");
        caja.setSize(110, 30);
        caja.setLocation(170, 220);
        caja.setForeground(Color.BLACK);  // Texto en negro
        caja.setContentAreaFilled(false);
        panel1.add(caja);

        // Campos de texto
        JPasswordField contrasena = new JPasswordField();
        contrasena.setSize(270, 30);
        contrasena.setLocation(170, 190);
        contrasena.setBorder(BorderFactory.createLineBorder(Color.GRAY, 1));
        panel1.add(contrasena);

        JTextField usuario = new JTextField();
        usuario.setSize(270, 30);
        usuario.setLocation(170, 110);
        usuario.setBorder(BorderFactory.createLineBorder(Color.GRAY, 1));
        panel1.add(usuario);

        // Botones
        JButton boton = new JButton("Acceder");
        boton.setBounds(220, 270, 170, 50);
        boton.setFont(new Font("Arial", Font.BOLD, 18));
        boton.setBackground(Color.decode("#28a745"));
        boton.setForeground(Color.WHITE);
        
        boton.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                
                boolean flag1 = false, flag2 = false;
                
                if(usuario.getText().equals("")) {
                    usuario.setBorder(BorderFactory.createLineBorder(Color.RED,3));
                }else {
                    usuario.setBorder(BorderFactory.createLineBorder(Color.GREEN,3));
                    flag1= true;
                }
                
                String miContra = new String(contrasena.getPassword());
                
                if(miContra.equals("")) {
                    contrasena.setBorder(BorderFactory.createLineBorder(Color.RED,3));
                }else {
                    contrasena.setBorder(BorderFactory.createLineBorder(Color.GREEN,3));
                    flag2 = true;
                }
                
                if(flag1 && flag2) {
                    if(usuario.getText().equals("octavio.uabcs.mx")) { 
                        if(miContra.equals("contraseña123")) {
                            JOptionPane.showMessageDialog(null, "Inicio de sesión exitoso");
                        } else {
                            JOptionPane.showMessageDialog(null, "Error");
                        }
                    } else {
                        JOptionPane.showMessageDialog(null, "Error");
                    }
                }
            }
        });
        
        panel1.add(boton);

        JButton irRegistro = new JButton("Ir a registro");
        irRegistro.setBounds(220, 370, 170, 50);
        irRegistro.setFont(new Font("Arial", Font.BOLD, 18));
        irRegistro.setBackground(Color.decode("#00829B"));
        irRegistro.setForeground(Color.WHITE);
        
        irRegistro.addActionListener(new ActionListener() {

            @Override
            public void actionPerformed(ActionEvent e) {
                // Acción para ir al registro (por implementar)
            }
        });
        
        panel1.add(irRegistro);

        // Actualiza el panel después de agregar todos los componentes
        panel1.revalidate();
        panel1.repaint();
    }
}


